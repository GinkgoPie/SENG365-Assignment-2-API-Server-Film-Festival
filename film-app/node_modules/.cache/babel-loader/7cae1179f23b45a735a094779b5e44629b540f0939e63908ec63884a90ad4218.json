{"ast":null,"code":"import { create } from 'zustand';\nconst getLocalStorage = key => JSON.parse(window.localStorage.getItem(key));\nconst setLocalStorage = (key, value) => window.localStorage.setItem(key, JSON.stringify(value));\nconst useStore = create(set => ({\n  user: getLocalStorage('user') || null,\n  setUser: user => set(() => {\n    setLocalStorage('user', user);\n    return {\n      user: user\n    };\n  })\n\n  // editUser: (user: User, newUser) => set((state) => {\n  //     setLocalStorage('user', user)\n  //     return {user}\n  // }),\n\n  // removeUser: (user: User) => set((state) => {\n  //\n  // })\n}));\n\nexport const useUserStore = useStore;","map":{"version":3,"names":["create","getLocalStorage","key","JSON","parse","window","localStorage","getItem","setLocalStorage","value","setItem","stringify","useStore","set","user","setUser","useUserStore"],"sources":["/Users/baojiahe/Desktop/SENG365/seng365-assignment2-2023/film-app/src/store/index.ts"],"sourcesContent":["import {create} from 'zustand';\ninterface UserState {\n    user: User;\n    setUser: (user: User) => void;\n    // editUser: (user: User, newUsername: string) => void;\n    // removeUser: (user: User) => void;\n}\n\ninterface FilmsState {\n    films: film[];\n    setFilms: (films: Array<film>) => void;\n\n    //editFilm: (film: film, newUsername: string) => void;\n\n    removeFilm: (film: film) => void;\n}\n    const getLocalStorage = (key: string): User => JSON.parse(window.localStorage.getItem(key) as string);\n    const setLocalStorage = (key: string, value:User) => window.localStorage.setItem(key, JSON.stringify(value));\n\n    const useStore = create<UserState>((set) => ({\n\n    user : getLocalStorage('user') || null,\n\n    setUser: (user: User) => set(() => {\n        setLocalStorage('user', user)\n            return {user: user}\n    }),\n\n    // editUser: (user: User, newUser) => set((state) => {\n    //     setLocalStorage('user', user)\n    //     return {user}\n    // }),\n\n    // removeUser: (user: User) => set((state) => {\n    //\n    // })\n    })\n    )\nexport const useUserStore = useStore;"],"mappings":"AAAA,SAAQA,MAAM,QAAO,SAAS;AAgB1B,MAAMC,eAAe,GAAIC,GAAW,IAAWC,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,YAAY,CAACC,OAAO,CAACL,GAAG,CAAW,CAAC;AACrG,MAAMM,eAAe,GAAGA,CAACN,GAAW,EAAEO,KAAU,KAAKJ,MAAM,CAACC,YAAY,CAACI,OAAO,CAACR,GAAG,EAAEC,IAAI,CAACQ,SAAS,CAACF,KAAK,CAAC,CAAC;AAE5G,MAAMG,QAAQ,GAAGZ,MAAM,CAAaa,GAAG,KAAM;EAE7CC,IAAI,EAAGb,eAAe,CAAC,MAAM,CAAC,IAAI,IAAI;EAEtCc,OAAO,EAAGD,IAAU,IAAKD,GAAG,CAAC,MAAM;IAC/BL,eAAe,CAAC,MAAM,EAAEM,IAAI,CAAC;IACzB,OAAO;MAACA,IAAI,EAAEA;IAAI,CAAC;EAC3B,CAAC;;EAED;EACA;EACA;EACA;;EAEA;EACA;EACA;AACA,CAAC,CACD,CAAC;;AACL,OAAO,MAAME,YAAY,GAAGJ,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}