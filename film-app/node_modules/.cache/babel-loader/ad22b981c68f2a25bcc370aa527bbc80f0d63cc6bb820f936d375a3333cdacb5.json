{"ast":null,"code":"import { create } from 'zustand';\nconst getLocalStorage = key => JSON.parse(window.localStorage.getItem(key));\nconst setLocalStorage = (key, value) => window.localStorage.setItem(key, JSON.stringify(value));\nconst useStore = create(set => ({\n  userReturn: getLocalStorage('userReturn'),\n  users: getLocalStorage('users') || [],\n  setUserReturn: userReturn => set(() => {\n    setLocalStorage('userReturn', userReturn);\n    return {\n      userReturn: userReturn\n    };\n  }),\n  addUser: (userId, userReturn, users) => set(() => {\n    users.push(userReturn);\n    setLocalStorage('users', users);\n    return {\n      users: users\n    };\n  }),\n  setUsers: users => set(() => {\n    setLocalStorage('users', users);\n    return {\n      users: users\n    };\n  })\n}));\nexport const useUsersStore = useStore;","map":{"version":3,"names":["create","getLocalStorage","key","JSON","parse","window","localStorage","getItem","setLocalStorage","value","setItem","stringify","useStore","set","userReturn","users","setUserReturn","addUser","userId","push","setUsers","useUsersStore"],"sources":["/Users/baojiahe/Desktop/SENG365/seng365-assignment2-2023/film-app/src/store/user.ts"],"sourcesContent":["import {create} from 'zustand';\ninterface UsersState {\n    userID: number;\n    user: {userID, UserReturn};\n    setUserReturn: (userReturn: UserReturn) => void;\n    users: UserReturn[];\n\n    addUser: (userId:string, userReturn: UserReturn, users: UserReturn[]) => void;\n    setUsers: (users: Array<UserReturn>) => void;\n\n}\n\nconst getLocalStorage = (key: string): any => JSON.parse(window.localStorage.getItem(key) as string);\nconst setLocalStorage = (key: string, value:any) => window.localStorage.setItem(key, JSON.stringify(value));\n\n\nconst useStore = create<UsersState>((set) => ({\n    userReturn: getLocalStorage('userReturn'),\n    users: getLocalStorage('users') || [],\n\n    setUserReturn: (userReturn: UserReturn) => set(()=>{\n        setLocalStorage('userReturn', userReturn)\n        return {userReturn: userReturn}\n    }),\n    addUser: (userId:string, userReturn: UserReturn, users: UserReturn[]) => set(()=>{\n        users.push(userReturn)\n        setLocalStorage('users', users)\n        return {users: users}\n    }),\n\n    setUsers: (users: UserReturn[]) => set(() => {\n        setLocalStorage('users', users)\n        return {users: users} })\n\n}))\nexport const useUsersStore = useStore;"],"mappings":"AAAA,SAAQA,MAAM,QAAO,SAAS;AAY9B,MAAMC,eAAe,GAAIC,GAAW,IAAUC,IAAI,CAACC,KAAK,CAACC,MAAM,CAACC,YAAY,CAACC,OAAO,CAACL,GAAG,CAAW,CAAC;AACpG,MAAMM,eAAe,GAAGA,CAACN,GAAW,EAAEO,KAAS,KAAKJ,MAAM,CAACC,YAAY,CAACI,OAAO,CAACR,GAAG,EAAEC,IAAI,CAACQ,SAAS,CAACF,KAAK,CAAC,CAAC;AAG3G,MAAMG,QAAQ,GAAGZ,MAAM,CAAca,GAAG,KAAM;EAC1CC,UAAU,EAAEb,eAAe,CAAC,YAAY,CAAC;EACzCc,KAAK,EAAEd,eAAe,CAAC,OAAO,CAAC,IAAI,EAAE;EAErCe,aAAa,EAAGF,UAAsB,IAAKD,GAAG,CAAC,MAAI;IAC/CL,eAAe,CAAC,YAAY,EAAEM,UAAU,CAAC;IACzC,OAAO;MAACA,UAAU,EAAEA;IAAU,CAAC;EACnC,CAAC,CAAC;EACFG,OAAO,EAAEA,CAACC,MAAa,EAAEJ,UAAsB,EAAEC,KAAmB,KAAKF,GAAG,CAAC,MAAI;IAC7EE,KAAK,CAACI,IAAI,CAACL,UAAU,CAAC;IACtBN,eAAe,CAAC,OAAO,EAAEO,KAAK,CAAC;IAC/B,OAAO;MAACA,KAAK,EAAEA;IAAK,CAAC;EACzB,CAAC,CAAC;EAEFK,QAAQ,EAAGL,KAAmB,IAAKF,GAAG,CAAC,MAAM;IACzCL,eAAe,CAAC,OAAO,EAAEO,KAAK,CAAC;IAC/B,OAAO;MAACA,KAAK,EAAEA;IAAK,CAAC;EAAC,CAAC;AAE/B,CAAC,CAAC,CAAC;AACH,OAAO,MAAMM,aAAa,GAAGT,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}